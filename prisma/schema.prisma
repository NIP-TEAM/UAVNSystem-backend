generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model UserInfo {
  id         Int       @id @default(autoincrement())
  password   String
  name       String
  active     Boolean
  lastLogin  String
  email      String
  merchantId Int       @default(1)
  networks   Network[]

  @@index([email])
}

model Network {
  id         Int      @id @default(autoincrement())
  name       String   @db.VarChar(255)
  status     Int
  createAt   String   @db.VarChar(255)
  creator    UserInfo @relation(fields: [userInfoId], references: [id])
  userInfoId Int
  lastEdit   String   @db.VarChar(255)
  uavs       Uav[]
  merchantId Int
}

model Uav {
  id          Int     @id @default(autoincrement())
  name        String  @db.VarChar(255)
  networkInfo Network @relation(fields: [networkId], references: [id])
  networkId   Int
}

model VerifyCode {
  email      String @id @unique
  code       String
  createTime String
}
